---
title: "Appendix for 'Framing Effects in the Wild'"
author: "Nicolai Berk"
date: "15 5 2022"
output: 
  pdf_document:
    number_sections: TRUE
toc: TRUE
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = F, message = F, warning = F, cache = T, fig.height=6, fig.width=10, fig.align='center')

library(tidyverse)
library(dplyr)
library(data.table)
library(here)
library(patchwork)

# load self-made functions
for (filename in list.files(here("code/functions"))){
  source(here(paste0('code/functions/', filename)))
}
```

# Independent Variable

## Market Coverage of Different Newspapers

Table 1 shows the number of print copies sold and online page impressions for each newspaper per day. It becomes clear that German newspapers have a rather important position in the German news market. The tabloid \textit{Bild} has by far the largest reach, with over 1.7 Million sold newspaper daily and around 550 million web visits per month. For reference: the German Wikipedia site had less than twice as many visits (975 million) in the same time frame \footnote{Wikipedia Siteviews Analyisis: https://pageviews.wmcloud.org/siteviews/}. Bild is closely followed by the weekly published \textit{Spiegel}. The daily broadsheets sell less, and interestingly the online presence seems to be dominated by the right, given the weak presence of centre-left \textit{SZ} and left-wing \textit{taz}.

```{=tex}
\begin{table}[!htbp] \centering
    \begin{tabular}{@{\extracolsep{5pt}} lcc}
    \\[-1.8ex]\hline
    \hline \\[-1.8ex]
    Paper & Print Sales & Web Impressions \\
     & (thousands) & (millions) \\
    \hline \\[-1.8ex]
    Bild & 1756 & 555 \\
    Spiegel & 758 & 388 \\
    FAZ & 242 & 123 \\
    SZ & 358 & 13 \\
    taz & 51 & 7 \\
    Welt & 521 & 135 \\
    \hline \\[-1.8ex]
    \end{tabular}
  \caption{Average daily sales and monthly online impressions of different newspapers in 2017. Source: Informationsgemeinschaft zur Feststellung der Verbreitung von Werbeträgern e. V. (2021). Quartalsauflagen. https://ivw.de/aw/print/qa. Table generated with stargazer.}
  \label{tab:paper_sales}
\end{table}
```

## BERT Classifiers

### Migration

### Crime

### Correcting for change in DPA-sourced content

Among the changes after Reichelt's takeover as chief editor of *Bild* was a severe drop in the overall number of articles published online. Figure \@ref(fig:dpaShare) shows the monthly number of articles *Bild* published in their online archive across time. Recall that Reichelt took over in February 2017, and briefly after - in June 2017 - the overall number of articles published decreases by over 60%. The graph also suggests an explanation for this sudden shift: the share of articles sourced from DPA, a major German press agency alike the Associated Press, sharply decreases at the same time as the major decrease in the number of articles takes place (see top blue bars). While the decision to discontinue buying content from DPA must have been made by Reichelt himself (and is thus an outcome of the treatment), it might nevertheless affect the measurement of migration framing in *Bild*. DPA is a press agency supplying many German news outlets, which means it must have a rather unbiased or at least centrist coverage, potentially decreasing the estimate of crime frames within Bild's migration content. This would not be a problem, as long as this content is equally likely to make it to the front page. However, *Bild* likely gives more weight to its own content compared to pre-written content from DPA. It is therefore necessary to assess whether the change in framing persists when excluding DPA content.

```{r dpaShare, fig.cap="Monthly number of articles by source."}

data.table::fread(here("data/raw/newspapers/_bild_articles.csv"), 
                  encoding = "UTF-8") %>% 
  mutate(
    dpa = str_detect(text, "(dpa)")
  ) %>% 
  mutate(month = lubridate::floor_date(date, "month")) %>% 
  mutate(
    dpa = ifelse(dpa, "DPA", "Original")
  ) %>%
  ggplot(aes(x = month, fill = dpa)) +
  geom_bar() +
  theme_minimal() +
  ggtitle("Monthly number of articles, Bild online", "By origin, 2013-2019") + 
  xlab("") + ylab("N") +
  scale_fill_manual(name = "Source",
                    values = MetBrewer::met.brewer("Archambault", 2))


```

The left panel of figure \@ref(fig:treatmentDPAcorr) displays the quarterly share of migration articles discussing crime for *Bild* compared to all other newspapers. The depression visible in the original plot in 2016-2017 is not visible anymore, as is the sharp increase in June 2017. Instead, the share of crime content in Bild's migration coverage increases directly after the takeover by Reichelt. The gap between Bild and all other newspapers increases, and this increased difference persists. This change becomes even more visible in the right-hand panel, which shows a difference-in-differences estimate of the change of the share of crime news in a newspapers migration content, this time controlling for whether the content is DPA-sourced or not. The general picture is quite similar to the original estimate in the paper, as migration coverage only increases in Bild, while all other outlets remain rather stable on this metric. The only difference is that in this estimate, the share of migration coverage devoted to crime 'only' increases by 5 percentage points, which still constitutes a very substantial increase.

```{r treatmentDPAcorr, fig.cap="Change in share of crime content in newspaper coverage, excluding DPA-sourced news content. Left panel: quarterly share across time, Bild compared to other newspapers' average. Right panel: difference-in-differences estimates of change in newspaper coverage compared to other newspapers, controlling for source of content."}

TreatmentTrendPlot(dpa_corrected = T) + 
  TreatmentDiDPlot(dpa_corrected = T)

```

## Structural Topic Model

To identify different considerations about migration in news coverage, I estimate a structural topic model with 60 topics for the nearly 90,000 migration articles in the full period (2013-2019)\footnote{The topics' prevalence along with the most important words can be assessed in the appendix.}. The number of topics was chosen to strike a balance between the computational and human resources necessary to estimate and annotate the topics and finding appropriate topics for the large corpus of nearly 90,000 migration articles\footnote{Currently, I work to identify crime content using supervised models (similar to the identification of migration content) to provide a specific estimate of the attention to the consideration of interest. I will also analyse the data with embedding regression, assessing how the meaning of migration related terms like 'migrant', 'asylum' or 'syrian' changed in Bild compared to other newspapers}. Topic prevalence is estimated as a function of the release date of the article, as well as the newspaper it has been published in. The 60 topics' most predictive words and ten most representative articles were assessed to identify and label the content of each topic, and all topics related to crime (two in total) are selected and their prevalence added together for a daily measure of attention to crime in each newspaper.

### Treatment

# Readership models

## Inward selection

```{r inselection fig.cap = "Coefficients of OLS regression of readership on migration attitude across waves. Vertical lines indicate 95% confidence intervals, dashed (red) vertical line indicates editorial change."}

InSelection()

```

# Change in Migration Attitudes across time


```{r}

MigChangePlot()

```

[Add description of variable and explanation]

# Difference-in-Differences Estimates

Treated Group: Bild Readers in first (and only pre-treatment) wave. Control Group: Never-Readers of Bild. Post Date: $>=$ 01.02.2017

## Descriptives

Show Demographics for Treatment and Control Groups.

```{r, bild_descriptives}

gles_p_long <- fread(here('data/raw/gles/Panel/long_cleaned.csv'))

desc <- 
  gles_p_long %>% 
  filter(wave == "1", !is.na(treat)) %>% 
  group_by(treat) %>% 
  select(gender_clean, ybirth_clean, `010_clean`, 
         `1130_clean`, `1500_clean`, `afd_vote`, `430i_clean`) %>%
  mutate(gender_clean = gender_clean-1) %>% 
  mutate(across(.fns = as.integer)) %>% 
  summarise(across(.fns = mean, na.rm = T)) %>% 
  select(-treat) %>% 
  t() %>% round(2)

colnames(desc) <- c("Control", "Treatment")
row.names(desc) <- c("Gender (0 = m, 1 = f)", "Birthyear", 
                     "Political interest (1, 5)", "Immigration Attitude (-3, 3)",
                     "General left-right (0-10)", "Share of AfD supporters", "AfD attitude (-5, 5)")

knitr::kable(desc, align = c("c", "c"))

rm(gles_p_long, desc)

```

Note that the variable "Birthyear" is left-censored in the data. All respondents born before 1955 were assigned 1955 as birth year.

## DiD assumptions

### Parallel Trends

Figure \@ref(fig:parallelTrends) shows the development of migration attitudes among a panel of Bild readers\footnote{Readership was measured in a single wave in late 2015.} and non-readers across time, recorded in the German Longitudinal Election Study's Longterm Panel [@SOURCE]. This is a far smaller sample with a limited time frame and hence less useful for the precise estimation of the effects of changing migration framing. The plot shows that both groups move along a similar long-term trend, slowly becoming more conservative, while moving into similar directions along the way. The only difference between the two groups is that Bild readers seem to be more conservative in late 2015 (note that only the last three interviews were conducted in January 2016). However this deviation lies well within the 95% confidence interval and those not reading Bild move in a similar direction, albeit less strongly. The parallel trends assumption seems to be generally met.

```{r parallelTrends, fig.cap = "Migration Attitude among Bild-readers compared to non-readers across Time"}

ParallelTrendsPlot()

```

## Effect in Longterm-Panel

### Reichelt

```{r LTPDiD, fig.height=2}

LTPDiD()

```

```{r LTPDiD_table}

LTPDiD(return_table = T)

```



## Variable: Immigration Attitudes

### Outcome: Reduce Immigration (1130)

#### Question Text

Jetzt geht es um Zuzugsmöglichkeiten für Ausländer. Sollten die Zuzugsmöglichkeiten für Ausländer erleichtert oder eingeschränkt werden?

(1) Zuzug von Ausländern erleichtern
(2)
(3)
(4)
(5)
(6)
(7) Zuzug von Ausländern einschränken

*Transformed to [-3, 3].*

#### Treatment groups across time

(add counterfactual if time)

```{r did_imm_att_plot}

fread(here('data/raw/gles/Panel/long_cleaned.csv')) %>% 
  filter(!is.na(`1130_clean`), !is.na(treat)) %>% 
  group_by(treat, wave) %>% 
  summarise(
    date_clean = min(date_clean, na.rm = T),
    mig_mean = mean(`1130_clean`, na.rm = T),
    mig_sd = sd(`1130_clean`, na.rm = T),
    N = n()
  ) %>% 
  mutate(
    mig_lower = mig_mean + qt(0.025, df = N-1) * (mig_sd/sqrt(N)),
    mig_upper = mig_mean + qt(0.975, df = N-1) * (mig_sd/sqrt(N))
  ) %>% 
  ggplot(aes(x = date_clean, y = mig_mean,
             ymin = mig_lower, ymax = mig_upper,
             lty = !treat, col = !treat)) +
  geom_line() +
  geom_pointrange() +
  geom_vline(xintercept = as.Date("2017-02-01"), lty = 2, col = "red") + 
  theme_minimal() +
  labs( x = "", y = "", col = "Readership", lty = "Readership") +
  scale_color_manual(labels = c("Bild", "Never Bild"),
                     values = MetBrewer::met.brewer("Archambault", 2)) +
  scale_linetype_manual(labels = c("Bild", "Never Bild"),
                     values = c(1,2))

```

#### Treatment groups across time, by prior attitude

```{r did_imm_att_plot_groups}

fread(here('data/raw/gles/Panel/long_cleaned.csv')) %>% 
  filter(init_mig_groups != "", !is.na(`1130_clean`), !is.na(treat)) %>% 
  group_by(init_mig_groups, treat, wave) %>% 
  summarise(
    date_clean = min(date_clean, na.rm = T),
    `1130_clean` = mean(`1130_clean`, na.rm = T)
  ) %>% 
  ggplot(aes(x = date_clean, y = `1130_clean`, lty = !treat, col = init_mig_groups)) +
  geom_line() +
  geom_vline(xintercept = as.Date("2017-02-01"), lty = 2, col = "red") + 
  # facet_wrap(~init_mig_groups, ncol = 1) + 
  theme_minimal()

```

#### Effect by prior opinion

```{r linearEffect}

InterLinear() + 
  InterLinear(placebo = T)

```

#### Regression to the mean among Bild readers

-   Placebo-treatment post Bundestagswahl (3-6 months after treatment)
-   Exclusing Bild readers actually treated

```{r}
DiDPlot(placebo = T, exclude_pretreated = T, legend_position = "None") + InterLinear(placebo = T, exclude_pretreated = T)
```

#### Effect of Reichelt takeover

```{r did_imm_att}

DiDModels(dv_name = "1130_clean", 
          ctrl_var  = "cond",
          ctrl_name = "Initial Migration Att.")

```

#### Number of respondents in each group

```{r treat_initmig_n, fig.cap="Number of respondents in treatment and control group by pre-existing attitude."}

gles_p_long <- 
  fread(here('data/raw/gles/Panel/long_cleaned.csv')) %>% 
  filter(wave == "1")

table(gles_p_long$init_mig, gles_p_long$treat) %>% 
  knitr::kable()

rm(gles_p_long)


```

#### Number of observations

```{r treat_initmig_obs, fig.cap="Number of observations in treatment and control group by pre-existing attitude."}

gles_p_long <- 
  fread(here('data/raw/gles/Panel/long_cleaned.csv'))

table(gles_p_long$init_mig, gles_p_long$treat) %>% 
  knitr::kable()

rm(gles_p_long)


```

#### Conservative Outlets only

```{r did_imm_att_cons}

DiDModels("1130_clean", restrict_sample = "conservative_outlets")

```

```{r did_imm_att_cons_vis}


fread(here('data/raw/gles/Panel/long_cleaned.csv')) %>% 
  filter(init_mig_groups != "", !is.na(`1130_clean`), !is.na(treat)) %>% 
  filter(bild_init | faz_init | welt_init) %>% 
  group_by(init_mig_groups, treat, wave) %>% 
  summarise(
    date_clean = min(date_clean, na.rm = T),
    `1130_clean` = mean(`1130_clean`, na.rm = T)
  ) %>% 
  ggplot(aes(x = date_clean, y = `1130_clean`, lty = !treat, col = init_mig_groups)) +
  geom_line() +
  geom_vline(xintercept = as.Date("2017-02-01"), lty = 2, col = "red") + 
  ggtitle("Immigration attitudes among Bild readers across time", "Compared to FAZ & Welt readers") + 
  theme_minimal()

```

### Outcome: Immigration Attitude Nonresponse (1130 = -99)

```{r did_imm_dodge}

DiDModels("1130_dodge")

```

### Outcome: Integration Attitude (1210)

#### Question Text

Es gibt unterschiedliche Auffassungen darüber, wie sehr sich Ausländer in Deutschland anpassen sollten. Manche denken, dass sich Ausländer vollständig an die deutsche Kultur anpassen sollten. Andere denken, Ausländer sollten auch hier möglichst nach der eigenen Kultur leben können.

(1) Ausländer sollten sich vollständig an die deutsche Kultur anpassen
(2) 
(3) 
(4) 
(5) 
(6) 
(7) Ausländer sollten möglichst nach eigener Kultur leben können

*Recoded to [-3, 3].*

#### Effect of Reichelt takover

```{r did_int_att}

DiDModels("1210_clean")

```

### Outcome: Integration Attitude Nonresponse (1210 = -99)

## General Nonresponse/Attrition (1130 = -95)

```{r did_part}

DiDModels("participation")

```

## Variable: Voting Behaviour

### Outcome: Voting AfD (190b)

Bei der Bundestagswahl können Sie ja zwei Stimmen vergeben. Die Erststimme für einen Kandidaten aus Ihrem Wahlkreis und die Zweitstimme für eine Partei. Was werden Sie auf Ihrem Stimmzettel ankreuzen?

```{r afd_vote}

DiDModels("afd_vote")

```

### Outcome: Voting Nonresponse (190b = -99 \| -98)

```{r vote_mis}

DiDModels("vote_miss")

```

**Sizable effect, most likely among liberals.**

### Outcome: Scalometer AfD (430i)

```{r afd_scale}

DiDModels("430i_clean")

```

**Decrease, if anything. Most sizable among liberals, but disappers when controlling for individual FEs.**

## Variable: Issue Considerations

### Outcome: MIP Migrant Crime (840s)

```{r did_mip_mig_crime}

DiDModels("mip_mig_crime")

```

No effect, but also very low N.

### Outcome: MIP Migration (840s)

```{r did_mip_mig}

DiDModels("mip_mig")

```

**NO effect on general problem perception of migration.**.

### Outcome: Crime Attitude (2880h)

```{r did_crime_att}

DiDModels("2880h_clean")

```

*Nothing.*

### Outcome: Correlation of Crime Attitude (2880h) & Immigration Attitude (1130)

#### Question

Die staatlichen Befugnisse in der Kriminalitätsbekämpfung sollten ausgeweitet werden, auch wenn das zu einer stärkeren Überwachung der Bürger führt.

(1) stimme überhaupt nicht zu
(2) stimme eher nicht zu
(3) teils/teils
(4) stimme eher zu
(5) stimme voll und ganz zu

#### Bootstrap of correlations

```{r crime_mig_cor}

cors <- 
  fread(here('data/raw/gles/Panel/long_cleaned.csv')) %>% 
  filter(!is.na(`1130_clean`), !is.na(`2880h_clean`), !is.na(treat)) %>% 
  group_by(treat, post) %>% 
  summarise(mig_crime_cor = cor(`1130_clean`, `2880h_clean`, use = "complete.obs")) %>% 
  mutate(universe = "factual")

cors <- 
  cors %>% 
  rbind(
    data.frame(
      treat = c(TRUE, TRUE),
      post = c(FALSE, TRUE),
      mig_crime_cor = c(cors[cors$treat & !cors$post, "mig_crime_cor"][[1]], 
                        cors[cors$treat & !cors$post, "mig_crime_cor"][[1]] +  
                          sqrt((cors[cors$treat & cors$post, "mig_crime_cor"][[1]] -
                          cors[!cors$treat & cors$post, "mig_crime_cor"][[1]])^2)),
      universe = "counterfactual"
    ), 
  ) %>% 
  mutate(universe = factor(universe, levels = c("factual", "counterfactual")))


cors %>% 
  mutate(treat_universe = paste(treat, universe, sep = "_")) %>% 
  ggplot(aes(x = post, y = mig_crime_cor, col = treat, lty = universe, group = treat_universe)) +
  geom_point() +
  geom_line() +
  theme_minimal()

```

(cannot show this by subgroup bc would condition on pre-treatment opinion, which restricts variation on migration attitudes to 0, hence no correlation)

#### Interaction of DiD with Crime Attitude (following Nelson & Kinder 1996)

(Association of Crime with migration attitude should be sigificantly higher in post-treatment-group)

```{r did_cond_crime}

gles_p_long <- fread(here('data/raw/gles/Panel/long_cleaned.csv'))

# define dv and conditioning variable
gles_p_long[["dv"]] <- gles_p_long[["1130_clean"]]
gles_p_long[["crime_att"]] <- gles_p_long[["2880h_clean"]]
gles_p_long$Individual <- gles_p_long$lfdn

inter <- 
  feglm(dv ~ post * treat * crime_att, 
        cluster = c("Individual"), 
        data = gles_p_long %>% 
          filter(!is.na(dv), !is.na(treat), !is.na(post), !is.na(crime_att)))

inter_cond <- 
  feglm(dv ~ post * treat * init_mig * crime_att , 
        cluster = c("Individual"), 
        data = gles_p_long %>% 
          filter(!is.na(dv), !is.na(treat), !is.na(post), 
                 !is.na(crime_att), !is.na(init_mig)))

inter_fe_cond <- 
  feglm(dv ~ post * treat * init_mig * crime_att | Individual, 
        cluster = c("Individual"), 
        data = gles_p_long %>% 
          filter(!is.na(dv), !is.na(treat), !is.na(post), 
                 !is.na(crime_att), !is.na(init_mig)))

inter_fe <- 
  feglm(dv ~ post * treat * crime_att | Individual, 
        cluster = c("Individual"), 
        data = gles_p_long %>% 
          filter(!is.na(dv), !is.na(treat), !is.na(post), !is.na(crime_att)))

modelsummary(
  list(
    inter, inter_fe, inter_cond, inter_fe_cond
  ),
  stars = T,
  # coef_map =
  #   c("postTRUE:treatTRUE" = "ATE",
  #     "postTRUE:treatTRUE:crime_att" = "ATE X Crime Attitude",
  #     "postTRUE:treatTRUE:init_mig:crime_att" = "ATE X Crime Attitude X \nInitial Migration Attitude"),
  gof_omit = "^(?!R2.Pseudo|Num|Std|FE)", 
  output = "markdown"
)

rm(gles_p_long, inter, inter_fe, inter_cond, inter_fe_cond)


```

## Variable: Accuracy Motivation

**This variable is only measured post-treatment**

### Mean accuracy motivation by initial immigration attitude

```{r acc_mot_means}

gles_p_long <- fread(here('data/raw/gles/Panel/long_cleaned.csv'))

gles_p_long %>% 
  filter(!is.na(init_mig)) %>% 
  group_by(init_mig) %>% 
  summarise(acc_mot = mean(`1555d_clean`, na.rm = T)) %>% 
  ggplot(aes( x = init_mig, y = acc_mot)) +
  geom_bar(stat = "identity", fill = "lightblue") +
  xlab("Initial Immigration Opinion") +
  ylab("Accuracy motivation") +
  theme_minimal()


```

### DiD by post-treatment accuracy motivation

```{r did_acc_mot}

DiDModels("1130_clean",
          cond_var = "acc_goal",
          cond_name = "Accuracy Motivation")

```

# TWFE: BERT Estimates

## Distribution of Independent Variable

```{r bert_dist}

fread(here("data/processed/merged_bert.csv")) %>% 
  ggplot(aes(crime_label_share)) + 
  geom_histogram(bins = 50, col = "white") +
  theme_minimal()

```

## Variable: Immigration Attitudes

### Outcome: Reduce Immigration (1130)

Jetzt geht es um Zuzugsmöglichkeiten für Ausländer. Sollten die Zuzugsmöglichkeiten für Ausländer erleichtert oder eingeschränkt werden?

(1) 1 Zuzug von Ausländern erleichtern
(2) 2\
(3) 3\
(4) 4\
(5) 5\
(6) 6\
(7) 7 Zuzug von Ausländern einschränken

```{r ind_imm_att}

TWFEModels("1130_clean")

```

### Outcome: Immigration Attitude Nonresponse (1130 = -99)

```{r ind_imm_dodge}

TWFEModels("1130_dodge")

```

### Outcome: Integration Attitude (1210)

Es gibt unterschiedliche Auffassungen darüber, wie sehr sich Ausländer in Deutschland anpassen sollten. Manche denken, dass sich Ausländer vollständig an die deutsche Kultur anpassen sollten. Andere denken, Ausländer sollten auch hier möglichst nach der eigenen Kultur leben können.

(1) Ausländer sollten sich vollständig an die deutsche Kultur anpassen
(2) 
(3) 
(4) 
(5) 
(6) 
(7) Ausländer sollten möglichst nach eigener Kultur leben können

```{r ind_int_att}

TWFEModels("1210_clean")

```

### Outcome: Integration Attitude Nonresponse (1210 = -99)

```{r ind_int_dodge}

TWFEModels("1210_dodge")

```

## Conditioning on Prior Exposure

### DV: Immigration Attitude

```{r ind_cond_exp_lag}

TWFEModels("1130_clean", 
           cond = "crime_label_share_lag", 
           cond_name = "\nLagged Exposure")

```

Exposure has no conditioning effect - maybe conditional effect IS ceiling effect? (but still holds compared to conservative news consumers?)

## Variable: Voting Behaviour

### Outcome: Voting AfD (190b)

Bei der Bundestagswahl können Sie ja zwei Stimmen vergeben. Die Erststimme für einen Kandidaten aus Ihrem Wahlkreis und die Zweitstimme für eine Partei. Was werden Sie auf Ihrem Stimmzettel ankreuzen?

### Outcome: Voting Nonresponse (190b = -99 \| -98)

```{r ind_afd_dodge}

TWFEModels("vote_miss")

```

### Outcome: Scalometer AfD (430i)

```{r ind_afd_vote}

TWFEModels("430i_clean")

```

## Variable: Issue Considerations

### Outcome: MIP Migrant Crime (840s)

```{r ind_mip_mig_crime}

TWFEModels("mip_mig_crime")

```

### Outcome: MIP Migration (840s)

```{r ind_mip_mig}

TWFEModels("mip_mig")

```

## TWFE Conditional on Paper Consumed (driven by Bild-readers?)

```{r}

TWFEModels("1130_clean", cond_var = "bild_init", cond_name = "Paper: Bild")

```

Effect **lower** among Bild readers!

<!-- # TWFE: STM Estimates -->

<!-- **STM estimates currently NOT reliable - fix 04a_merge_stm.R** -->

<!-- ## Distribution of Independent Variable -->

<!-- ```{r stm_dist} -->

<!-- fread(here("data/processed/merged_stm.csv")) %>%  -->

<!--   ggplot(aes(crime_label_share)) +  -->

<!--   geom_histogram(bins = 50, col = "white") + -->

<!--   theme_minimal() -->

<!-- ``` -->

<!-- ## Variable: Immigration Attitudes -->

<!-- ### Outcome: Reduce Immigration (1130) -->

<!-- Jetzt geht es um Zuzugsmöglichkeiten für Ausländer. Sollten die Zuzugsmöglichkeiten für Ausländer erleichtert oder eingeschränkt werden? -->

<!-- (1) 1 Zuzug von Ausländern erleichtern  -->

<!-- (2) 2   -->

<!-- (3) 3   -->

<!-- (4) 4   -->

<!-- (5) 5   -->

<!-- (6) 6   -->

<!-- (7) 7 Zuzug von Ausländern einschränken -->

<!-- ```{r ind_imm_att_stm} -->

<!-- TWFEModels("1130_clean", dataset = "stm") -->

<!-- ``` -->

<!-- ### Outcome: Immigration Attitude Nonresponse (1130 = -99) -->

<!-- ```{r ind_imm_dodge_stm} -->

<!-- TWFEModels("1130_dodge", dataset = "stm") -->

<!-- ``` -->

<!-- ### Outcome: Integration Attitude (1210) -->

<!-- Es gibt unterschiedliche Auffassungen darüber, wie sehr sich Ausländer in Deutschland anpassen sollten. Manche denken, dass sich Ausländer vollständig an die deutsche Kultur anpassen sollten. Andere denken, Ausländer sollten auch hier möglichst nach der eigenen Kultur leben können.  -->

<!-- (1) Ausländer sollten sich vollständig an die deutsche Kultur anpassen  -->

<!-- (2)   -->

<!-- (3)   -->

<!-- (4)   -->

<!-- (5)   -->

<!-- (6)   -->

<!-- (7) Ausländer sollten möglichst nach eigener Kultur leben können  -->

<!-- ```{r ind_int_att_stm} -->

<!-- TWFEModels("1210_clean", dataset = "stm") -->

<!-- ``` -->

<!-- ### Outcome: Integration Attitude Nonresponse (1210 = -99) -->

<!-- ```{r ind_int_dodge_stm} -->

<!-- TWFEModels("1210_dodge", dataset = "stm") -->

<!-- ``` -->

<!-- ## Conditioning on Prior Exposure -->

<!-- ### DV: Immigration Attitude -->

<!-- ```{r ind_cpond_explag_stm} -->

<!-- TWFEModels("1130_clean",  -->

<!--            cond = "crime_label_share_lag",  -->

<!--            cond_name = "\nLagged Exposure", -->

<!--            dataset = "stm") -->

<!-- ``` -->

<!-- Exposure has no conditioning effect - maybe conditional effect IS ceiling effect? (but still holds compared to conservative news consumers?) -->

<!-- ## Variable: Voting Behaviour -->

<!-- ### Outcome: Voting AfD (190b) -->

<!-- Bei der Bundestagswahl können Sie ja zwei Stimmen vergeben. Die Erststimme für einen Kandidaten aus Ihrem Wahlkreis und die Zweitstimme für eine Partei. Was werden Sie auf Ihrem Stimmzettel ankreuzen?  -->

<!-- ### Outcome: Voting Nonresponse (190b = -99 | -98) -->

<!-- ```{r ind_afd_dodge_stm} -->

<!-- TWFEModels("vote_miss", dataset = "stm") -->

<!-- ``` -->

<!-- ### Outcome: Scalometer AfD (430i) -->

<!-- ```{r ind_afd_scale} -->

<!-- TWFEModels("430i_clean", dataset = "stm") -->

<!-- ``` -->

<!-- ## Variable: Issue Considerations -->

<!-- ### Outcome: MIP Migrant Crime (840s) -->

<!-- ```{r ind_mip_mig_crime_stm} -->

<!-- TWFEModels("mip_mig_crime", dataset = "stm") -->

<!-- ``` -->

<!-- ### Outcome: MIP Migration (840s) -->

<!-- ```{r ind_mip_mig_stm} -->

<!-- TWFEModels("mip_mig", dataset = "stm") -->

<!-- ``` -->

<!-- # TWFE Conditional on Paper Consumed (driven by Bild-readers?) -->

<!-- ```{r ind_cond_paper_stm} -->

<!-- TWFEModels("1130_clean", cond_var = "bild_init", cond_name = "Paper: Bild", dataset = "stm") -->

<!-- ``` -->
